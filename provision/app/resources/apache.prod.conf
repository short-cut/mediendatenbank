<VirtualHost *:8080>
    ServerName mediendatenbank.local
    DocumentRoot /var/www/application

    <Directory /var/www/application>
        AllowOverride None
        Options FollowSymLinks
        Require all granted
    </Directory>

    # Symfony: Rewrite all requests to the front controller
    <IfModule mod_rewrite.c>
        RewriteEngine On
        RewriteCond %{REQUEST_FILENAME} !-f
        RewriteCond %{REQUEST_FILENAME} !-d
        RewriteRule ^ /index.php [L]
    </IfModule>

    # deny access to restricted folders
    <Directory /var/www/resourcespace>
        Options -Indexes
    </Directory>
    <Directory /var/www/resourcespace/batch>
            Require all denied
    </Directory>
    <Directory /var/www/resourcespace/include>
            Require all denied
    </Directory>
    <Directory /var/www/resourcespace/upgrade>
            Require all denied
    </Directory>
    <Directory /var/www/resourcespace/languages>
        Require all denied
    </Directory>
    <Directory /var/www/resourcespace/filestore>
        Require all denied
    </Directory>

    <IfModule mod_security2.c>
        SecRuleEngine Off
        SecFilterScanPOST Off
    </IfModule>

    ErrorLog /var/www/application/var/log/apache2/mediendb_error.log
    CustomLog /var/www/application/var/log/apache2/mediendb_access.log combined

</VirtualHost>
